<header class="header">
  <div class="logo" [routerLink]="['/']">
    <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
      <path d="M16 1c-5.5 0-10 4.5-10 10 0 8 10 20 10 20s10-12 10-20c0-5.5-4.5-10-10-10zm0 13.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"/>
    </svg>
  </div>
  <div class="header-actions">
    <button class="btn-secondary" (click)="showQuestionsModal()">Questions?</button>
    <button class="btn-secondary" (click)="saveAndExit()" [disabled]="isLoading()">
      <span *ngIf="!isLoading()">Save & exit</span>
      <span *ngIf="isLoading()">Saving...</span>
    </button>
  </div>
</header>

<main class="main-content">
  <div class="content-wrapper">
    <!-- Left Side: Text -->
    <div class="content-left">
      <div class="step-label">Step 3</div>
      <h1 class="main-title">Finish up and publish</h1>
      <p class="description">
        Finally, you'll choose booking settings, set up pricing, and publish your listing to start earning.
      </p>
    </div>

    <!-- Right Side: Animated SVG -->
    <div class="content-right">
      <div class="house-3d">
        <svg class="house-svg" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
          
          <!-- Base Shadow -->
          <ellipse class="anim-base" cx="250" cy="450" rx="180" ry="30" fill="#E0E0E0" opacity="0.3"/>
          
          <g transform="translate(250, 200)">
            <!-- House Structure -->
            <g class="anim-structure">
              <path d="M -100 50 L -100 -80 L 100 -80 L 100 50 Z" fill="#F5F5F5" stroke="#DDDDDD" stroke-width="2"/>
              <path d="M -100 50 L -150 80 L -150 -50 L -100 -80 Z" fill="#E8E8E8" stroke="#DDDDDD" stroke-width="2"/>
              <path d="M -100 50 L 100 50 L 150 80 L -150 80 Z" fill="#FAFAFA" stroke="#DDDDDD" stroke-width="2"/>
              <path d="M 100 50 L 100 -80 L 150 -50 L 150 80 Z" fill="#ECECEC" stroke="#DDDDDD" stroke-width="2"/>
            </g>
            
            <!-- Roof -->
            <path class="anim-roof" d="M -100 -80 L 0 -130 L 100 -80 L 150 -50 L 0 -100 L -150 -50 Z" fill="#FF385C" stroke="#E31C5F" stroke-width="2"/>
            
            <!-- Windows (Will animate to light up) -->
            <g class="anim-windows">
              <!-- Left Window -->
              <rect class="window-pane" x="-70" y="-40" width="35" height="40" fill="#2c3e50" stroke="#666" stroke-width="1.5"/>
              <!-- Right Window -->
              <rect class="window-pane" x="35" y="-40" width="35" height="40" fill="#2c3e50" stroke="#666" stroke-width="1.5"/>
              <!-- Side Window -->
              <path class="window-pane" d="M 110 -20 L 140 -5 L 140 20 L 110 5 Z" fill="#2c3e50" stroke="#666" stroke-width="1.5"/>
            </g>
            
            <!-- Door -->
            <g class="anim-details">
              <rect x="-20" y="0" width="40" height="50" fill="#8B4513" stroke="#5D2906" stroke-width="2"/>
              <circle cx="10" cy="25" r="2" fill="#FFD700"/>
              <!-- Chimney -->
              <rect x="40" y="-110" width="20" height="40" fill="#8B4513" stroke="#5D2906" stroke-width="1.5"/>
            </g>

            <!-- Decorative Checkmark Bubble (Symbolizing Finish) -->
            <g class="anim-check" transform="translate(80, -140)">
               <!-- Bubble Background -->
               <circle cx="0" cy="0" r="35" fill="#FFFFFF" stroke="#DDDDDD" stroke-width="2" />
               <!-- Checkmark Icon -->
               <path d="M -15 0 L -5 10 L 15 -15" fill="none" stroke="#FF385C" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
            </g>

          </g>
          
          <!-- Clouds -->
          <g class="anim-clouds" opacity="0.3">
            <ellipse cx="80" cy="80" rx="30" ry="15" fill="#E0E0E0"/>
            <ellipse cx="400" cy="100" rx="40" ry="20" fill="#E0E0E0"/>
          </g>
        </svg>
      </div>
    </div>
  </div>
</main>

<footer class="footer">
  <div class="progress-bar" style="width: 80%"></div>
  <button class="btn-back" (click)="goBack()">Back</button>
  <button class="btn-next" (click)="startPropertyCreation()">Next</button>
</footer>
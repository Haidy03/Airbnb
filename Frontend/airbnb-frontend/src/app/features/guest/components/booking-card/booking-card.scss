.booking-card {
  background: white;
  border: 1px solid rgb(221, 221, 221);
  border-radius: 12px;
  padding: 24px;

  box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 16px;

 
  width: 100%;
  max-width: 100%; 
  
  position: sticky; 
  top: 120px; 
  z-index: 50;

  // --- Header  ---
  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 24px;

    .price {
      .amount { font-weight: 600; font-size: 22px; color: #222; }
      .period { font-size: 16px; color: #717171; margin-left: 4px; }
    }
    .rating {
      font-size: 14px; font-weight: 600;
      .star { margin-right: 4px; }
      .reviews u { color: #717171; text-decoration: underline; cursor: pointer; }
    }
  }

  // --- Form Container ---
  .booking-form {
    display: flex;
    flex-direction: column;
    border: 1px solid #b0b0b0; 
    border-radius: 8px; 
    margin-bottom: 16px;
    position: relative; 

    // 1. Date Picker Section
    .date-picker-wrapper {
      display: flex;
      border-bottom: 1px solid #b0b0b0;
      cursor: pointer;
      position: relative; 

      .date-input {
        flex: 1;
        padding: 10px 12px;
        position: relative;
        background: white; 
        
        
        &.check-in {
          border-right: 1px solid #b0b0b0; 
          border-top-left-radius: 8px;
        }
        &.check-out {
          border-top-right-radius: 8px; 
        }

        &.active {
          border: 2px solid #000; 
          border-radius: 8px;
          z-index: 10; 
          margin: -1px; 
        }

        label {
          display: block;
          font-size: 10px;
          font-weight: 800;
          color: #222;
          text-transform: uppercase;
          margin-bottom: 2px;
        }
        
        .fake-input {
          font-size: 14px;
          line-height: 18px;
          color: #222222; 
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          background: transparent;

          
          &.placeholder {
            color: #717171;
            font-weight: 400;
          }
        }
      }
    }

    // 2. Calendar Popup
    .calendar-popup {
      position: absolute;
      top: -16px; 
      right: -24px; 
      width: 660px; 
      background: white;
      border: 1px solid #ddd;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 16px 32px rgba(0,0,0,0.15); 
      z-index: 300;

      @media (max-width: 1128px) {
        width: 340px; 
        right: 0; 
      }

      ::ng-deep app-calendar-section {
        .cal-header {
           display: flex; 
           justify-content: space-between; 
           margin-bottom: 16px;
           h2 { font-size: 20px; font-weight: 600; margin: 0; }
           .subtitle { font-size: 14px; color: #717171; }
        }

        @media (max-width: 1128px) {
           .month-container:nth-child(2) { display: none; }
           .calendars-wrapper { gap: 0; }
        }

        .days-grid { gap: 0; }
        
        .day-cell { 
          height: 42px; 
          font-size: 14px; 
          
          &:hover:not(.empty):not(.past):not(.blocked) { 
             background: #222; 
             color: white; 
             border-radius: 50%;
          }
        }
      }

      .popup-footer {
        display: flex;
        justify-content: flex-end;
        gap: 16px;
        margin-top: 16px;
        padding-top: 16px;
        border-top: 1px solid #eee;
        
        .clear-btn {
           background: transparent; border: none; 
           text-decoration: underline; font-weight: 600; font-size: 14px; 
           cursor: pointer;
        }

        .close-link {
          background: #222;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          &:hover { background: black; }
        }
      }
    }

    // 3. (Guests)
    .guests-input-container {
      position: relative;
      
      .guests-trigger {
        padding: 10px 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        background: white;
        border-radius: 0 0 8px 8px;

        .label-text {
          label { display: block; font-size: 10px; font-weight: 800; color: #222; margin-bottom: 2px;}
          span { font-size: 14px; color: #222; display: block;}
        }
        i { font-size: 12px; }
      }

    
      .guests-dropdown {
        position: absolute;
        top: calc(100% + 4px); 
        left: 0; 
        right: 0; 
        background: white;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 16px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.15);
        z-index: 100;
        
        .guest-row {
          display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;
          
          .info {
            .type { font-weight: 600; font-size: 16px; color: #222; }
            .sub { font-size: 13px; color: #717171; margin-top: 2px; }
            .sub.link { text-decoration: underline; font-weight: 500; cursor: pointer; }
          }
          
          .controls {
            display: flex; align-items: center; gap: 12px;
            
            .round-btn {
              width: 32px; height: 32px; border-radius: 50%; border: 1px solid #b0b0b0; 
              background: white; color: #717171; font-size: 18px; 
              display: flex; align-items: center; justify-content: center; cursor: pointer;
              
              &:hover:not(:disabled) { border-color: #222; color: #222; }
              &:disabled { opacity: 0.3; cursor: not-allowed; }
            }
            .count { font-size: 16px; width: 20px; text-align: center; color: #222; }
          }
        }
        
        .disclaimer { font-size: 12px; color: #717171; margin-bottom: 20px; line-height: 1.4; }
        
        .dropdown-footer {
          text-align: right;
          .close-link {
            background: none; border: none; text-decoration: underline; 
            font-weight: 600; font-size: 16px; cursor: pointer; color: #222;
            &:hover { background: #f7f7f7; border-radius: 4px; padding: 4px 8px; margin: -4px -8px; }
          }
        }
      }
    }
  }

  // --- Reserve Button ---
  .reserve-btn {
    width: 100%;
    background: linear-gradient(to right, #E61E4D 0%, #E31C5F 50%, #D70466 100%);
    color: white;
    border: none;
    padding: 14px;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.1s;
    &:active { transform: scale(0.98); }
  }

  .small-text, .no-charge-text {
    text-align: center; margin-top: 16px; font-size: 14px; color: #717171;
  }

  // --- Price Breakdown ---
  .price-breakdown {
    margin-top: 24px;
    
    .line-item {
      display: flex; justify-content: space-between; margin-bottom: 12px;
      font-size: 16px; color: #222;
      
      .desc { text-decoration: underline; cursor: pointer; }

      &.total { 
        font-weight: 800; 
        text-decoration: none; 
        margin-top: 24px; 
        border-top: 1px solid #ddd; 
        padding-top: 24px; 
        .desc { text-decoration: none; }
      }
    }
  }
}
<div class="relative">
  <!-- Menu Button -->
  <button
    (click)="toggleMenu()"
    class="flex items-center space-x-3 border border-gray-300 rounded-full p-2 pl-3 hover:shadow-md transition-shadow bg-white">
    <svg class="w-4 h-4 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
    </svg>
    <div class="w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center text-white font-medium">
      M
    </div>
  </button>

  <!-- Dropdown Menu -->
  <div
    *ngIf="isMenuOpen"
    class="absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-xl border border-gray-200 py-2 z-50">

    <!-- User Actions -->
    <div class="py-2">
      <a
        routerLink="/wishlists"
        (click)="closeMenu()"
        class="block px-4 py-3 text-sm font-medium text-gray-900 hover:bg-gray-50">
        <div class="flex items-center space-x-3">
          <!-- Icons omitted for brevity, copy from original if needed -->
          <span>Wishlists</span>
        </div>
      </a>
      <!-- ... Other links (Trips, Messages, Profile) ... -->
    </div>

    <div class="border-t border-gray-200 my-2"></div>

    <!-- Settings & Help -->
    <div class="py-2">
      <a
        routerLink="/account-settings"
        (click)="closeMenu()"
        class="block px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
        <span>Account settings</span>
      </a>
      <!-- ... Other links ... -->
    </div>

    <div class="border-t border-gray-200 my-2"></div>

    <!-- Logout -->
    <div class="py-2">
      <button
        (click)="logout()"
        class="w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
        Log out
      </button>
    </div>
  </div>
</div>

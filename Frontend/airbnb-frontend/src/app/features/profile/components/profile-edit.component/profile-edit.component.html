<div class="edit-container">
  <div class="edit-content">
    <!-- Avatar Section -->
    <div class="avatar-section">
      <div class="large-avatar">
        <img *ngIf="profileImage" [src]="profileImage" alt="Profile" class="avatar-img">
        <span *ngIf="!profileImage" class="avatar-initial">
          {{ profileDetails.firstName?.charAt(0) || 'U' }}
        </span>
      </div>
      <button class="add-photo-btn" (click)="fileInput.click()">
        <span class="camera-icon">ðŸ“·</span>
        Add
      </button>
      <input 
        #fileInput 
        type="file" 
        accept="image/*" 
        (change)="onFileSelected($event)" 
        style="display: none">
    </div>

    <div class="name-section" style="margin-bottom: 30px;">
      <div class="grid-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
        <div class="input-group">
          <label style="display: block; font-size: 12px; font-weight: 600; color: #717171; margin-bottom: 8px;">First Name</label>
          <input type="text" [(ngModel)]="profileDetails.firstName" class="modal-input" placeholder="First Name">
        </div>
        <div class="input-group">
          <label style="display: block; font-size: 12px; font-weight: 600; color: #717171; margin-bottom: 8px;">Last Name</label>
          <input type="text" [(ngModel)]="profileDetails.lastName" class="modal-input" placeholder="Last Name">
        </div>
      </div>
    </div>

    <h2 class="edit-title">My profile</h2>
    <p class="edit-description">
      Hosts and guests can see your profile and it may appear across Airbnb to help us build trust in our community. 
      <a href="#" class="learn-more-link">Learn more</a>
    </p>

    <!-- Profile Questions Grid -->
    <div class="questions-grid">
      <button 
        *ngFor="let question of questions" 
        class="question-item"
        [class.filled]="profileDetails[question.field]"
        (click)="openModal(question)">
        <span class="question-icon">{{ question.icon }}</span>
        <span class="question-label">
          {{ profileDetails[question.field] || question.label }}
        </span>
      </button>
    </div>

    
    <!-- Done Button -->
    <div class="actions">
      <button class="done-btn" (click)="onDone()" [disabled]="isSaving">
        {{ isSaving ? 'Saving...' : 'Done' }}
      </button>
    </div>
  </div>

  <!-- Modal -->
  <div *ngIf="activeModal" class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="modal-close" (click)="closeModal()">âœ•</button>
      
      <h3 class="modal-title">{{ getModalTitle() }}</h3>
      <p class="modal-description">{{ getModalDescription() }}</p>
      
      <input 
        type="text"
        [(ngModel)]="modalValue"
        [placeholder]="activeModal.placeholder"
        [maxLength]="activeModal.maxLength"
        class="modal-input"
        (keyup.enter)="saveModal()">
      
      <div class="modal-footer">
        <span class="char-count">{{ activeModal.maxLength - modalValue.length }} characters available</span>
      </div>

      <button class="modal-save-btn" (click)="saveModal()">Save</button>
    </div>
  </div>
</div>
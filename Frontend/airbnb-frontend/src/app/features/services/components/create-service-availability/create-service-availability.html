<div class="page-container">
  <header class="step-header">
    <button class="btn-icon" (click)="goBack()"><i class="bi bi-chevron-left"></i> Back</button>
    <button class="btn-save">Save & exit</button>
  </header>

  <main class="content-area">
    <div class="content-wrapper">
      
      <h1 class="step-title">Availability & Capacity</h1>
      <p class="step-subtitle">Set duration, capacity, and weekly schedule.</p>

   
      <div class="input-group mb-4">
        <label class="label">Maximum Guests per booking</label>
        <div class="counter-wrapper">
          <button class="counter-btn" (click)="maxGuests.set(maxGuests() - 1)" [disabled]="maxGuests() <= 1">−</button>
          <span class="counter-val">{{ maxGuests() }}</span>
          <button class="counter-btn" (click)="maxGuests.set(maxGuests() + 1)">+</button>
        </div>
      </div>


      <div class="input-group mb-4">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
          <div>
        
            <label class="label" style="margin-bottom: 0;">Service Duration</label>
            <p class="small text-muted" style="margin-bottom: 0; margin-top: 4px;">How long does one session last?</p>
         </div>
        <select class="form-control time-input" style="flex: none; width: 200px; margin-left: 100px;" [ngModel]="duration()" (ngModelChange)="duration.set($event)">
          <option [value]="30">30 Minutes</option>
          <option [value]="60">1 Hour</option>
          <option [value]="90">1.5 Hours</option>
          <option [value]="120">2 Hours</option>
          <option [value]="180">3 Hours</option>
          <option [value]="240">4 Hours</option>
        </select>
      </div>
      </div>
     
      <div class="input-group">
        <div style="display: flex; align-items: baseline; gap: 12px; margin-bottom: 24px;">
          <label class="label" style="margin-bottom: 0;">Weekly Schedule</label>
          <p class="small text-muted" style="margin-bottom: 0;">Add available slots for each day.</p>
        </div>
        <div class="add-time-row">
         
          <select class="form-control time-input" [ngModel]="tempDay()" (ngModelChange)="tempDay.set($event)">
            <option *ngFor="let day of days" [value]="day.id">{{ day.name }}</option>
          </select>

          
          <input type="time" [ngModel]="tempTime()" (ngModelChange)="tempTime.set($event)" class="time-input">
          
          <button class="btn-add" (click)="addSlot()" [disabled]="!tempTime()">Add</button>
        </div>

        
        <div class="slots-container mt-3">
          <div *ngFor="let slot of slots(); let i = index" class="slot-chip">
            <strong>{{ getDayName(slot.day) }}</strong> : {{ slot.time }}
            <button (click)="removeSlot(i)" class="btn-remove">×</button>
          </div>
          <p *ngIf="slots().length === 0" class="text-danger small">
            <i class="bi bi-exclamation-circle"></i> Please add at least one time slot.
          </p>
        </div>
      </div>

    </div>
  </main>

  <footer class="step-footer">
    <div class="progress-bar-bg"><div class="progress-bar-fill" style="width: 85%;"></div></div>
    <div class="footer-actions">
      <button class="btn-link" (click)="goBack()">Back</button>
      <button class="btn-next" [disabled]="slots().length === 0" (click)="onNext()">Next</button>
    </div>
  </footer>
</div>